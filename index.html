<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8" />
    <title>Rest Countries API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <script>document.write('<base href="' + document.location + '" />');</script>
    <link rel="stylesheet" href="style.css" />
    <script data-require="angular.js@1.4.x" src="https://code.angularjs.org/1.4.12/angular.js" data-semver="1.4.9"></script>
    <script data-require="moment-timezone-with-data@0.4.0" data-semver="0.4.0" src="http://momentjs.com/downloads/moment-timezone-with-data.js"></script>
    <script data-require="moment.js@2.14.1" data-semver="2.14.1" src="https://npmcdn.com/moment@2.14.1"></script>
    <script src="app.js"></script>
  </head>

  <body ng-app="searchApp">
    <div class="container" ng-controller="searchCtrl">
      <form ng-submit="submit()">
        <div class="container-fluid header">
          <div class="container">
            <h2>Rest Countries API - Search Countries</h2>
          </div>
        </div>
        <div>&nbsp;</div>
        <div>
          <input type="text" class="form-control" ng-model="test" />
        </div>
        <div>&nbsp;</div>
        <table ng-table="countries" class="table table-bordered">
          <tbody>
            <tr>
              <th class="col">Flag</th>
              <th class="col">Country</th>
              <th class="col">Capital</th>
              <th class="col">Currency (Code | Name | Symbol)</th>
              <th class="col">Current Time</th>
            </tr>
            <tr ng-repeat="result in results | orderBy:result.timezone | filter:test">
              <td>
                <img ng-src="{{result.flag}}" style="width:50px" />
              </td>
              <td>{{ result.name }}</td>
              <td>{{ result.capital }}</td>
              <td>
                <div ng-repeat="currency in result.currencies"> {{currency.code}} | {{currency.name}} | {{currency.symbol}}
								</div>
              </td>
              <td>
                <div ng-repeat="timezone in result.timezones | orderBy:getCurrentTime ">{{getCurrentTime(timezone)}}</div>
              </td>
            </tr>
          </tbody>
        </table>
      </form>
    </div>
  </body>

</html>
